<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Baby Care - Product Details</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="./baby.css">
    <link rel="stylesheet" href="../Footer/footer.css">

    <style>
      @media (max-width: 1024px) { #footer-placeholder { display: none !important; } }
      body { background-color: #fcfdff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

      .product-image { width: 100%; height: 400px; object-fit: contain; background: #DBEAFE; border-radius: 8px; padding: 1rem; }
      .add-to-cart, .add-to-wishlist { padding: 0.75rem 1.5rem; font-size: 1rem; font-weight: 500; border-radius: 25px; transition: all 0.3s ease; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; }
      .add-to-cart { background: linear-gradient(135deg, #3B82F6, #93C5FD); color: white; border: none; }
      .add-to-cart:hover { background: linear-gradient(135deg, #2563EB, #60A5FA); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3); }
      .add-to-wishlist { background: white; color: #3B82F6; border: 1px solid #3B82F6; }
      .add-to-wishlist:hover { background: #DBEAFE; transform: translateY(-2px); }
      .add-to-wishlist.active { background: #3B82F6; color: white; }

      .size-option { display: inline-block; padding: 0.5rem 1rem; margin: 0.25rem; border: 1px solid #CBD5E1; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; }
      .size-option:hover { border-color: #3B82F6; background-color: #DBEAFE; }
      .size-option.selected { background-color: #3B82F6; color: white; border-color: #3B82F6; }

      .quantity-selector button { background: #DBEAFE; color: #3B82F6; border: none; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
      .quantity-selector button:hover { background: #93C5FD; transform: scale(1.05); }

      .in-stock { color: #10B981; font-weight: 600; }
      
      .specs-tab { cursor: pointer; padding: 0.75rem 1.5rem; border-bottom: 2px solid transparent; }
      .specs-tab.active { border-bottom-color: #3B82F6; color: #3B82F6; font-weight: 600; }
      
      #mainImage { height: 400px; }
      
      .related-product { transition: transform 0.3s ease; }
      .related-product:hover { transform: translateY(-5px); }

      @media (max-width: 640px) {
        .product-image { height: 250px; }
        .add-to-cart, .add-to-wishlist { width: 100%; margin-bottom: 0.75rem; }
        .button-group { flex-direction: column; }
        .specs-tab { padding: 0.5rem 1rem; font-size: 0.9rem; }
      }
    </style>
  </head>
  <body class="bg-[#CBDCEB] mt-40">
    <div id="header-placeholder"></div>

    <div class="max-w-7xl mx-auto lg:px-8 py-4">
      <div class="mb-6 text-sm text-gray-500">
        <a href="../home.html" class="hover:text-blue-600">Home</a> /
        <a href="./baby.html" class="hover:text-blue-600">Baby Products</a> /
        <span id="breadcrumbCategory" class="text-gray-900">Product Details</span>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div>
          <div id="mainImage" class="product-image flex items-center justify-center bg-blue-100">
            <div class="text-center text-gray-400">
              <i class="fas fa-image text-6xl mb-2"></i>
              <p>Loading image...</p>
            </div>
          </div>

          <!-- THUMBNAILS -->
          <div class="mt-4 grid grid-cols-5 gap-3">
            <div class="thumbnail cursor-pointer border-2 border-transparent rounded-lg overflow-hidden hover:border-blue-500 transition">
              <img src="" alt="thumb1" class="w-full h-24 object-contain bg-gray-50">
            </div>
            <div class="thumbnail cursor-pointer border-2 border-transparent rounded-lg overflow-hidden hover:border-blue-500 transition">
              <img src="" alt="thumb2" class="w-full h-24 object-contain bg-gray-50">
            </div>
            <div class="thumbnail cursor-pointer border-2 border-transparent rounded-lg overflow-hidden hover:border-blue-500 transition">
              <img src="" alt="thumb3" class="w-full h-24 object-contain bg-gray-50">
            </div>
            <div class="thumbnail cursor-pointer border-2 border-transparent rounded-lg overflow-hidden hover:border-blue-500 transition">
              <img src="" alt="thumb4" class="w-full h-24 object-contain bg-gray-50">
            </div>
            <div class="thumbnail cursor-pointer border-2 border-transparent rounded-lg overflow-hidden hover:border-blue-500 transition">
              <img src="" alt="thumb5" class="w-full h-24 object-contain bg-gray-50">
            </div>
          </div>
        </div>

        <div>
          <h1 id="productTitle" class="text-2xl md:text-2xl font-bold text-gray-900 mb-2">Loading...</h1>
          <div class="mb-2">
            <span id="batchNo" class="text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded">Batch: Loading...</span>
          </div>
          <div class="mb-2">
            <span id="productPrice" class="text-2xl font-bold text-blue-600">₹0.00</span>
            <span id="originalPrice" class="ml-2 text-sm text-gray-500 line-through"></span>
            <span id="discountBadge" class="ml-2 text-sm text-red-500 font-semibold"></span>
          </div>

          <!-- Size Selection -->
          <div class="mb-4">
            <h3 class="text-lg font-semibold mb-2">Select Size:</h3>
            <div class="flex flex-wrap gap-3">
              <div class="size-option selected" data-size="S" data-price-multiplier="1">S</div>
              <div class="size-option" data-size="M" data-price-multiplier="1.2">M</div>
              <div class="size-option" data-size="L" data-price-multiplier="1.4">L</div>
              <div class="size-option" data-size="XL" data-price-multiplier="1.6">XL</div>
              <div class="size-option" data-size="XXL" data-price-multiplier="1.8">XXL</div>
            </div>
            <p class="text-xs text-red-600 mt-1 hidden" id="sizeError">Please select a size!</p>
          </div>

          <div class="mb-4">
            <span id="stockStatus" class="text-sm font-semibold in-stock">In Stock</span>
          </div>

          <div class="flex items-center mb-6">
            <span class="mr-4 font-medium">Quantity:</span>
            <div class="quantity-selector flex items-center space-x-2">
              <button id="decreaseQty" class="w-10 h-10 rounded-full border border-gray-300"><i class="fas fa-minus"></i></button>
              <span id="quantity" class="w-12 text-center font-bold text-lg">1</span>
              <button id="increaseQty" class="w-10 h-10 rounded-full border border-gray-300"><i class="fas fa-plus"></i></button>
            </div>
          </div>

          <div class="flex space-x-4 mb-6 button-group">
            <button id="addToCart" class="add-to-cart">
              <i class="fas fa-shopping-cart mr-2"></i>Add to Cart
            </button>
            <button id="addToWishlist" class="add-to-wishlist">
              <i class="far fa-heart mr-2"></i>Add to Wishlist
            </button>
          </div>

          <div class="border-t pt-4">
            <p id="productBrand" class="text-gray-600 mb-1"><span class="font-medium">Brand:</span> Loading...</p>
            <p id="productCategory" class="text-gray-600"><span class="font-medium">Category:</span> Loading...</p>
          </div>
        </div>
      </div>

      

      <!-- SPECS TABS -->
      <div class="mt-12">
        <div class="flex border-b">
          <div class="specs-tab active" data-tab="specifications">Specifications</div>
          <div class="specs-tab" data-tab="reviews">Reviews</div>
          <div class="specs-tab" data-tab="shipping">Shipping & Return</div>
        </div>
        
        <div id="specifications" class="specs-content pt-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
              <h3 class="text-lg font-semibold mb-4">Product Details</h3>
              <table class="w-full">
                <tr class="border-b">
                  <td class="py-2 font-medium">Name</td>
                  <td class="py-2" id="specName">-</td>
                </tr>
                <tr class="border-b">
                  <td class="py-2 font-medium">Brand</td>
                  <td class="py-2" id="specBrand">-</td>
                </tr>
                <tr class="border-b">
                  <td class="py-2 font-medium">Category</td>
                  <td class="py-2" id="specCategory">-</td>
                </tr>
                <tr class="border-b">
                  <td class="py-2 font-medium">Batch No</td>
                  <td class="py-2" id="specBatch">-</td>
                </tr>
              </table>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-4">Reviews</h3>
              <div class="space-y-4">
                <div class="bg-gray-50 p-4 rounded-lg">
                  <div class="flex items-center mb-2">
                    <div class="text-yellow-400">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star-half-alt"></i>
                    </div>
                    <span class="ml-2 font-medium">John D.</span>
                  </div>
                  <p class="text-gray-600">"Excellent quality product. My baby loves it!"</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg">
                  <div class="flex items-center mb-2">
                    <div class="text-yellow-400">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                    </div>
                    <span class="ml-2 font-medium">Sarah M.</span>
                  </div>
                  <p class="text-gray-600">"Good value for money. Would recommend."</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div id="reviews" class="specs-content pt-6 hidden">
          <div class="text-center py-8">
            <h3 class="text-xl font-semibold mb-4">Customer Reviews</h3>
            <p class="text-gray-600">No reviews yet. Be the first to review this product!</p>
          </div>
        </div>
        
        <div id="shipping" class="specs-content pt-6 hidden">
          <div class="space-y-4">
            <div id="exchangePolicy" class="p-6 bg-blue-50 border border-blue-200 rounded-lg">
              <h3 class="text-lg font-semibold text-blue-900 mb-2 flex items-center">
                <i class="fas fa-exchange-alt mr-2"></i> Easy Size Exchange
              </h3>
              <p class="text-sm text-blue-800">Free exchange within 7 days • No questions asked</p>
            </div>
            <div class="p-6 bg-red-50 border border-red-200 rounded-lg">
              <h3 class="text-lg font-semibold text-red-900 mb-2 flex items-center">
                <i class="fas fa-ban mr-2"></i> Return Policy
              </h3>
              <p class="text-sm text-red-800">Returns are not accepted for this product category.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- RELATED PRODUCTS -->
      <div id="relatedProducts" class="mt-12">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">Related Products</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          <!-- Related products will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
      <div class="bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden">
        <div class="flex justify-between items-center p-6 border-b">
          <h2 class="text-2xl font-bold">Shopping Cart (<span id="cartItemsCount">0</span>)</h2>
          <button id="closeCartModal" class="text-gray-500 hover:text-gray-700"><i class="fas fa-times text-xl"></i></button>
        </div>
        <div id="cartContent" class="p-6 overflow-y-auto max-h-96">
          <div class="text-center text-gray-500 py-10">
            <i class="fas fa-shopping-cart text-6xl mb-4 text-gray-300"></i>
            <p>Your cart is empty</p>
          </div>
        </div>
        <div id="cartFooter" class="border-t p-6 hidden">
          <div class="flex justify-between text-xl font-bold mb-4">
            <span>Total:</span>
            <span id="cartTotal" class="text-blue-600">₹0.00</span>
          </div>
          <button id="checkoutBtn" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700">Proceed to Checkout</button>
        </div>
      </div>
    </div>

    <div id="footer-placeholder"></div>

    <script>
      function loadHeader() {
        fetch('../../Header/header.html')
          .then(r => { if (!r.ok) throw r; return r.text(); })
          .then(html => {
            document.getElementById('header-placeholder').innerHTML = html;
            const script = document.createElement('script');
            script.src = '../../Header/header.js';
            script.onload = () => console.log('Header JS loaded');
            document.body.appendChild(script);
          })
          .catch(err => console.error('Header load failed:', err));
      }

      function loadFooter() {
        fetch('../../Footer/footer.html')
          .then(r => { if (!r.ok) throw r; return r.text(); })
          .then(html => {
            document.getElementById('footer-placeholder').innerHTML = html;
          })
          .catch(err => console.error('Footer load failed:', err));
      }

      document.addEventListener('DOMContentLoaded', () => {
        loadHeader();
        loadFooter();
      });
    </script>

    <!-- Separate JS Files -->
    <script src="../cart-wishlist-system.js"></script>
    <script defer src="./baby-product-details.js"></script>
  </body>
</html>
const fertilityProducts = [
  {
    "sku": "FSHILAJIT001",
    "productName": "Shilajit Gold Capsules",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Male Infertility",
    "productPrice": 450,
    "productOldPrice": 600,
    "productStatus": "Available",
    "productDescription": "Pure Shilajit extract for male vitality and reproductive health. Improves sperm count and quality naturally.",
    "productQuantity": 15,
    "productUnit": "Bottle of 60 capsules",
    "productMRP": 650,
    "productRating": 4.5,
    "prescriptionRequired": false,
    "brandName": "Dabur",
    "mfgDate": "2024-03-15",
    "expDate": "2026-03-15",
    "batchNo": "BATCH-SHIL-001",
    "benefitsList": [
      "Improves male fertility and sperm quality",
      "Boosts energy and vitality",
      "Rich in fulvic acid and minerals",
      "Supports reproductive system health"
    ],
    "directionsList": [
      "Take 1 capsule twice daily with milk or water",
      "Best taken after meals",
      "Consult doctor for long-term use",
      "Store in cool dry place"
    ],
    "ingredientsList": [
      "Purified Shilajit Resin",
      "Herbal Extracts",
      "Vegetable Capsule Shell"
    ],
    "productDynamicFields": {
      "strength": "500mg",
      "form": "Capsule",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Men above 18 years",
      "storage": "Store in cool dry place away from sunlight"
    },
    "productSizes": [
      "30 capsules",
      "60 capsules",
      "120 capsules"
    ],
    "id": 1,
    "category": "male",
    "image": "https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=400&h=400&fit=crop"
  },
  {
    "sku": "FFOLIC001",
    "productName": "Folic Acid Tablets",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Female Infertility",
    "productPrice": 280,
    "productOldPrice": 350,
    "productStatus": "Available",
    "productDescription": "Essential vitamin B9 for female reproductive health and fetal development. Supports ovulation and egg quality.",
    "productQuantity": 8,
    "productUnit": "Strip of 30 tablets",
    "productMRP": 400,
    "productRating": 4.2,
    "prescriptionRequired": false,
    "brandName": "Zandu",
    "mfgDate": "2024-02-10",
    "expDate": "2026-02-10",
    "batchNo": "BATCH-FOL-002",
    "benefitsList": [
      "Supports female reproductive health",
      "Essential for fetal neural tube development",
      "Improves egg quality",
      "Reduces risk of birth defects"
    ],
    "directionsList": [
      "Take 1 tablet daily with water",
      "Best taken in the morning",
      "Continue as per doctor's advice",
      "Avoid taking with antacids"
    ],
    "ingredientsList": [
      "Folic Acid (5mg)",
      "Microcrystalline Cellulose",
      "Magnesium Stearate"
    ],
    "productDynamicFields": {
      "strength": "5mg",
      "form": "Tablet",
      "dosage": "Oral",
      "shelfLife": "36 months",
      "countryOfOrigin": "India",
      "suitableFor": "Women planning pregnancy",
      "storage": "Store at room temperature"
    },
    "productSizes": [
      "30 tablets",
      "60 tablets",
      "90 tablets"
    ],
    "id": 2,
    "category": "female",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "FASHWA001",
    "productName": "Ashwagandha Capsules",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Ayurvedic Supplements",
    "productPrice": 320,
    "productOldPrice": 400,
    "productStatus": "Out of Stock",
    "productDescription": "Adaptogenic herb for stress relief and fertility support. Balances hormones and improves reproductive health.",
    "productQuantity": 0,
    "productUnit": "Bottle of 60 capsules",
    "productMRP": 450,
    "productRating": 4.7,
    "prescriptionRequired": false,
    "brandName": "Himalaya",
    "mfgDate": "2024-01-20",
    "expDate": "2026-01-20",
    "batchNo": "BATCH-ASH-003",
    "benefitsList": [
      "Reduces stress and anxiety",
      "Improves fertility in both genders",
      "Balances hormones naturally",
      "Boosts immunity and energy"
    ],
    "directionsList": [
      "Take 1-2 capsules twice daily",
      "Best taken with warm milk",
      "Avoid during pregnancy",
      "Consult doctor before use"
    ],
    "ingredientsList": [
      "Ashwagandha Root Extract",
      "Withanolides",
      "Vegetable Capsule"
    ],
    "productDynamicFields": {
      "strength": "500mg",
      "form": "Capsule",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Adults above 18 years",
      "storage": "Store in cool dry place"
    },
    "productSizes": [
      "30 capsules",
      "60 capsules",
      "100 capsules"
    ],
    "id": 3,
    "category": "ayurvedic",
    "image": "https://images.unsplash.com/photo-1550572017-4876b7788da6?w=400&h=400&fit=crop"
  },
  {
    "sku": "FSHAT001",
    "productName": "Shatavari Tablets",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Female Infertility",
    "productPrice": 380,
    "productOldPrice": 500,
    "productStatus": "Available",
    "productDescription": "Ayurvedic herb for female reproductive system support. Regulates menstrual cycle and improves fertility.",
    "productQuantity": 12,
    "productUnit": "Bottle of 100 tablets",
    "productMRP": 550,
    "productRating": 4.3,
    "prescriptionRequired": false,
    "brandName": "Baidyanath",
    "mfgDate": "2024-03-01",
    "expDate": "2026-03-01",
    "batchNo": "BATCH-SHAT-004",
    "benefitsList": [
      "Supports female reproductive health",
      "Regulates menstrual cycles",
      "Improves ovarian function",
      "Acts as natural galactagogue"
    ],
    "directionsList": [
      "Take 2 tablets twice daily",
      "Take with milk or warm water",
      "Best taken after meals",
      "Continue for 3-6 months for best results"
    ],
    "ingredientsList": [
      "Shatavari Root Powder",
      "Herbal Excipients",
      "Natural Binders"
    ],
    "productDynamicFields": {
      "strength": "500mg",
      "form": "Tablet",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Women above 18 years",
      "storage": "Store in airtight container"
    },
    "productSizes": [
      "60 tablets",
      "100 tablets",
      "200 tablets"
    ],
    "id": 4,
    "category": "female",
    "image": "https://images.unsplash.com/photo-1599932887768-d6cb80133949?w=400&h=400&fit=crop"
  },
  {
    "sku": "FMACA001",
    "productName": "Maca Root Powder",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Male Infertility",
    "productPrice": 520,
    "productOldPrice": 650,
    "productStatus": "Available",
    "productDescription": "Natural supplement from Peruvian maca root for male fertility and energy. Enhances libido and stamina.",
    "productQuantity": 5,
    "productUnit": "200gm Powder",
    "productMRP": 700,
    "productRating": 4.6,
    "prescriptionRequired": false,
    "brandName": "Charak",
    "mfgDate": "2024-02-15",
    "expDate": "2026-02-15",
    "batchNo": "BATCH-MACA-005",
    "benefitsList": [
      "Increases male fertility",
      "Boosts energy and stamina",
      "Improves sexual function",
      "Balances hormones naturally"
    ],
    "directionsList": [
      "Mix 1 teaspoon in milk or smoothie",
      "Take once or twice daily",
      "Start with small dose",
      "Best taken in the morning"
    ],
    "ingredientsList": [
      "Organic Maca Root Powder",
      "No Additives or Fillers"
    ],
    "productDynamicFields": {
      "form": "Powder",
      "dosage": "Oral",
      "shelfLife": "18 months",
      "countryOfOrigin": "Peru",
      "certification": "Organic",
      "suitableFor": "Men above 21 years",
      "storage": "Store in airtight container in cool place"
    },
    "productSizes": [
      "100gm",
      "200gm",
      "500gm"
    ],
    "id": 5,
    "category": "male",
    "image": "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=400&h=400&fit=crop"
  },
  {
    "sku": "FTRIB001",
    "productName": "Tribulus Terrestris",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Male Infertility",
    "productPrice": 350,
    "productOldPrice": 450,
    "productStatus": "Out of Stock",
    "productDescription": "Herbal supplement for male reproductive health and libido. Increases testosterone levels naturally.",
    "productQuantity": 0,
    "productUnit": "Bottle of 60 capsules",
    "productMRP": 500,
    "productRating": 4.4,
    "prescriptionRequired": false,
    "brandName": "Himalaya",
    "mfgDate": "2024-01-10",
    "expDate": "2026-01-10",
    "batchNo": "BATCH-TRIB-006",
    "benefitsList": [
      "Boosts male libido",
      "Improves sperm count and motility",
      "Increases testosterone levels",
      "Enhances athletic performance"
    ],
    "directionsList": [
      "Take 1 capsule twice daily",
      "Take with meals",
      "Cycle use (8 weeks on, 2 weeks off)",
      "Drink plenty of water"
    ],
    "ingredientsList": [
      "Tribulus Terrestris Extract",
      "Saponins (40%)",
      "Vegetable Capsule"
    ],
    "productDynamicFields": {
      "strength": "500mg",
      "form": "Capsule",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Men above 21 years",
      "storage": "Store away from moisture"
    },
    "productSizes": [
      "30 capsules",
      "60 capsules",
      "120 capsules"
    ],
    "id": 6,
    "category": "male",
    "image": "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=400&h=400&fit=crop"
  },
  {
    "sku": "FCHAST001",
    "productName": "Chasteberry Capsules",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Female Infertility",
    "productPrice": 290,
    "productOldPrice": 380,
    "productStatus": "Available",
    "productDescription": "Herbal support for female hormonal balance. Regulates menstrual cycle and supports fertility.",
    "productQuantity": 10,
    "productUnit": "Bottle of 90 capsules",
    "productMRP": 420,
    "productRating": 4.1,
    "prescriptionRequired": false,
    "brandName": "Zandu",
    "mfgDate": "2024-03-05",
    "expDate": "2026-03-05",
    "batchNo": "BATCH-CHAS-007",
    "benefitsList": [
      "Balances female hormones",
      "Regulates menstrual cycles",
      "Reduces PMS symptoms",
      "Supports fertility"
    ],
    "directionsList": [
      "Take 1 capsule three times daily",
      "Best taken with food",
      "Continue for 3 months",
      "Consult for pregnancy use"
    ],
    "ingredientsList": [
      "Chasteberry (Vitex) Extract",
      "Standardized to 0.5% Agnuside",
      "Vegetable Capsule"
    ],
    "productDynamicFields": {
      "strength": "400mg",
      "form": "Capsule",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Women above 18 years",
      "storage": "Store in cool place"
    },
    "productSizes": [
      "30 capsules",
      "60 capsules",
      "90 capsules"
    ],
    "id": 7,
    "category": "female",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "FGOKSH001",
    "productName": "Gokshura Tablets",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Ayurvedic Supplements",
    "productPrice": 310,
    "productOldPrice": 410,
    "productStatus": "Available",
    "productDescription": "Ayurvedic herb for male and female reproductive health. Supports urinary and reproductive functions.",
    "productQuantity": 20,
    "productUnit": "Bottle of 80 tablets",
    "productMRP": 480,
    "productRating": 4.5,
    "prescriptionRequired": false,
    "brandName": "Dabur",
    "mfgDate": "2024-02-20",
    "expDate": "2026-02-20",
    "batchNo": "BATCH-GOK-008",
    "benefitsList": [
      "Supports male and female reproductive health",
      "Improves urinary function",
      "Enhances vitality and energy",
      "Acts as natural aphrodisiac"
    ],
    "directionsList": [
      "Take 2 tablets twice daily",
      "Take with warm water",
      "Best taken after meals",
      "Continue for 2-3 months"
    ],
    "ingredientsList": [
      "Gokshura (Tribulus) Extract",
      "Herbal Excipients",
      "Natural Binders"
    ],
    "productDynamicFields": {
      "strength": "500mg",
      "form": "Tablet",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Adults above 18 years",
      "storage": "Store in dry place"
    },
    "productSizes": [
      "40 tablets",
      "80 tablets",
      "160 tablets"
    ],
    "id": 8,
    "category": "ayurvedic",
    "image": "https://images.unsplash.com/photo-1607619056574-7b8d3ee536b2?w=400&h=400&fit=crop"
  },
  {
    "sku": "FZINC001",
    "productName": "Zinc + Selenium Supplements",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Male Infertility",
    "productPrice": 420,
    "productOldPrice": 550,
    "productStatus": "Available",
    "productDescription": "Essential minerals for sperm health and motility. Improves male fertility and reproductive function.",
    "productQuantity": 7,
    "productUnit": "Bottle of 60 capsules",
    "productMRP": 600,
    "productRating": 4.3,
    "prescriptionRequired": false,
    "brandName": "Charak",
    "mfgDate": "2024-03-10",
    "expDate": "2026-03-10",
    "batchNo": "BATCH-ZINC-009",
    "benefitsList": [
      "Essential for sperm production",
      "Improves sperm motility and quality",
      "Boosts immunity",
      "Supports reproductive health"
    ],
    "directionsList": [
      "Take 1 capsule daily with food",
      "Best taken in the evening",
      "Do not exceed recommended dose",
      "Take with plenty of water"
    ],
    "ingredientsList": [
      "Zinc (50mg)",
      "Selenium (100mcg)",
      "Microcrystalline Cellulose",
      "Magnesium Stearate"
    ],
    "productDynamicFields": {
      "strength": "Zinc 50mg + Selenium 100mcg",
      "form": "Capsule",
      "dosage": "Oral",
      "shelfLife": "36 months",
      "countryOfOrigin": "India",
      "suitableFor": "Men above 21 years",
      "storage": "Store at room temperature"
    },
    "productSizes": [
      "30 capsules",
      "60 capsules",
      "90 capsules"
    ],
    "id": 9,
    "category": "male",
    "image": "https://images.unsplash.com/photo-1627483262268-9c2b5b2834b5?w=400&h=400&fit=crop"
  },
  {
    "sku": "FMVIT001",
    "productName": "Fertility Multivitamin",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Female Infertility",
    "productPrice": 580,
    "productOldPrice": 750,
    "productStatus": "Available",
    "productDescription": "Comprehensive vitamin formula for female fertility. Provides essential nutrients for reproductive health.",
    "productQuantity": 3,
    "productUnit": "Bottle of 60 tablets",
    "productMRP": 800,
    "productRating": 4.8,
    "prescriptionRequired": false,
    "brandName": "Himalaya",
    "mfgDate": "2024-02-25",
    "expDate": "2026-02-25",
    "batchNo": "BATCH-MVIT-010",
    "benefitsList": [
      "Comprehensive fertility support",
      "Improves egg quality",
      "Provides essential vitamins and minerals",
      "Supports overall reproductive health"
    ],
    "directionsList": [
      "Take 1 tablet daily",
      "Best taken with breakfast",
      "Continue for 3-6 months",
      "Consult doctor during pregnancy"
    ],
    "ingredientsList": [
      "Vitamin C",
      "Vitamin E",
      "Folic Acid",
      "Iron",
      "Zinc",
      "Selenium"
    ],
    "productDynamicFields": {
      "form": "Tablet",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Women planning pregnancy",
      "storage": "Store in cool dry place"
    },
    "productSizes": [
      "30 tablets",
      "60 tablets",
      "90 tablets"
    ],
    "id": 10,
    "category": "female",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "FKAPI001",
    "productName": "Kapikacchu Churna",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Ayurvedic Supplements",
    "productPrice": 270,
    "productOldPrice": 360,
    "productStatus": "Out of Stock",
    "productDescription": "Traditional Ayurvedic powder for reproductive health. Improves vitality and supports fertility.",
    "productQuantity": 0,
    "productUnit": "100gm Powder",
    "productMRP": 400,
    "productRating": 4.0,
    "prescriptionRequired": false,
    "brandName": "Baidyanath",
    "mfgDate": "2024-01-15",
    "expDate": "2026-01-15",
    "batchNo": "BATCH-KAPI-011",
    "benefitsList": [
      "Improves reproductive health",
      "Enhances vitality and energy",
      "Supports nervous system",
      "Acts as natural aphrodisiac"
    ],
    "directionsList": [
      "Mix 1 teaspoon with milk or honey",
      "Take twice daily",
      "Best taken on empty stomach",
      "Continue for 2-3 months"
    ],
    "ingredientsList": [
      "Kapikacchu (Mucuna pruriens) Powder",
      "No Additives"
    ],
    "productDynamicFields": {
      "form": "Powder",
      "dosage": "Oral",
      "shelfLife": "18 months",
      "countryOfOrigin": "India",
      "suitableFor": "Adults above 18 years",
      "storage": "Store in airtight container"
    },
    "productSizes": [
      "50gm",
      "100gm",
      "200gm"
    ],
    "id": 11,
    "category": "ayurvedic",
    "image": "https://images.unsplash.com/photo-1599932887768-d6cb80133949?w=400&h=400&fit=crop"
  },
  {
    "sku": "FCOQ10001",
    "productName": "CoQ10 Supplements",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Female Infertility",
    "productPrice": 650,
    "productOldPrice": 850,
    "productStatus": "Available",
    "productDescription": "Antioxidant support for egg quality and fertility. Improves ovarian function and egg health.",
    "productQuantity": 14,
    "productUnit": "Bottle of 60 capsules",
    "productMRP": 900,
    "productRating": 4.7,
    "prescriptionRequired": false,
    "brandName": "Charak",
    "mfgDate": "2024-03-12",
    "expDate": "2026-03-12",
    "batchNo": "BATCH-COQ-012",
    "benefitsList": [
      "Improves egg quality",
      "Powerful antioxidant",
      "Supports ovarian function",
      "Enhances fertility outcomes"
    ],
    "directionsList": [
      "Take 1 capsule twice daily",
      "Take with meals",
      "Best taken with fatty foods",
      "Continue as per doctor's advice"
    ],
    "ingredientsList": [
      "Coenzyme Q10 (100mg)",
      "Rice Bran Oil",
      "Gelatin Capsule"
    ],
    "productDynamicFields": {
      "strength": "100mg",
      "form": "Softgel Capsule",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Women above 25 years",
      "storage": "Store in cool place away from light"
    },
    "productSizes": [
      "30 capsules",
      "60 capsules",
      "120 capsules"
    ],
    "id": 12,
    "category": "female",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "FVITE001",
    "productName": "Vitamin E Capsules",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Female Infertility",
    "productPrice": 180,
    "productOldPrice": 240,
    "productStatus": "Available",
    "productDescription": "Antioxidant support for reproductive health. Protects eggs and improves uterine lining.",
    "productQuantity": 25,
    "productUnit": "Bottle of 30 capsules",
    "productMRP": 300,
    "productRating": 4.2,
    "prescriptionRequired": false,
    "brandName": "Dabur",
    "mfgDate": "2024-02-28",
    "expDate": "2026-02-28",
    "batchNo": "BATCH-VITE-013",
    "benefitsList": [
      "Powerful antioxidant for reproductive health",
      "Improves egg quality",
      "Supports uterine lining",
      "Protects against oxidative stress"
    ],
    "directionsList": [
      "Take 1 capsule daily",
      "Best taken with food",
      "Do not exceed recommended dose",
      "Consult doctor during pregnancy"
    ],
    "ingredientsList": [
      "Vitamin E (400IU)",
      "Soybean Oil",
      "Gelatin Capsule"
    ],
    "productDynamicFields": {
      "strength": "400IU",
      "form": "Softgel Capsule",
      "dosage": "Oral",
      "shelfLife": "36 months",
      "countryOfOrigin": "India",
      "suitableFor": "Women above 18 years",
      "storage": "Store at room temperature"
    },
    "productSizes": [
      "30 capsules",
      "60 capsules",
      "90 capsules"
    ],
    "id": 13,
    "category": "female",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "FMUSLI001",
    "productName": "Safed Musli Powder",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Male Infertility",
    "productPrice": 330,
    "productOldPrice": 440,
    "productStatus": "Available",
    "productDescription": "Natural aphrodisiac and energy booster. Improves male fertility and sexual performance.",
    "productQuantity": 9,
    "productUnit": "100gm Powder",
    "productMRP": 500,
    "productRating": 4.4,
    "prescriptionRequired": false,
    "brandName": "Baidyanath",
    "mfgDate": "2024-03-08",
    "expDate": "2026-03-08",
    "batchNo": "BATCH-MUS-014",
    "benefitsList": [
      "Natural aphrodisiac",
      "Improves sperm count and quality",
      "Boosts energy and stamina",
      "Supports male reproductive health"
    ],
    "directionsList": [
      "Mix 1 teaspoon with milk",
      "Take twice daily",
      "Best taken on empty stomach",
      "Continue for 2-3 months"
    ],
    "ingredientsList": [
      "Safed Musli Root Powder",
      "No Additives"
    ],
    "productDynamicFields": {
      "form": "Powder",
      "dosage": "Oral",
      "shelfLife": "18 months",
      "countryOfOrigin": "India",
      "suitableFor": "Men above 21 years",
      "storage": "Store in airtight container"
    },
    "productSizes": [
      "50gm",
      "100gm",
      "200gm"
    ],
    "id": 14,
    "category": "male",
    "image": "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=400&h=400&fit=crop"
  },
  {
    "sku": "FREDCL001",
    "productName": "Red Clover Tea",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Female Infertility",
    "productPrice": 220,
    "productOldPrice": 290,
    "productStatus": "Out of Stock",
    "productDescription": "Herbal tea for hormonal balance. Supports menstrual regularity and reproductive health.",
    "productQuantity": 0,
    "productUnit": "Box of 25 tea bags",
    "productMRP": 350,
    "productRating": 4.1,
    "prescriptionRequired": false,
    "brandName": "Himalaya",
    "mfgDate": "2024-01-30",
    "expDate": "2026-01-30",
    "batchNo": "BATCH-RED-015",
    "benefitsList": [
      "Balances female hormones",
      "Supports menstrual regularity",
      "Rich in isoflavones",
      "Promotes reproductive health"
    ],
    "directionsList": [
      "Steep 1 tea bag in hot water for 5 minutes",
      "Drink 1-2 cups daily",
      "Best taken between meals",
      "Avoid during pregnancy"
    ],
    "ingredientsList": [
      "Red Clover Flowers",
      "Natural Herbal Blend"
    ],
    "productDynamicFields": {
      "form": "Tea Bags",
      "dosage": "Infusion",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Women above 18 years",
      "storage": "Store in cool dry place"
    },
    "productSizes": [
      "25 tea bags",
      "50 tea bags",
      "100 tea bags"
    ],
    "id": 15,
    "category": "female",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "FFENU001",
    "productName": "Fenugreek Seeds",
    "productCategory": "Medicines & Healthcare",
    "productSubCategory": "Ayurvedic Supplements",
    "productPrice": 150,
    "productOldPrice": 200,
    "productStatus": "Available",
    "productDescription": "Natural supplement for libido and vitality. Supports reproductive health in both men and women.",
    "productQuantity": 18,
    "productUnit": "200gm Packet",
    "productMRP": 250,
    "productRating": 4.3,
    "prescriptionRequired": false,
    "brandName": "Zandu",
    "mfgDate": "2024-03-20",
    "expDate": "2026-03-20",
    "batchNo": "BATCH-FEN-016",
    "benefitsList": [
      "Boosts libido naturally",
      "Supports reproductive health",
      "Improves milk production in lactating mothers",
      "Regulates blood sugar levels"
    ],
    "directionsList": [
      "Soak 1 teaspoon overnight, drink water in morning",
      "Can be added to food",
      "Take daily for best results",
      "Consult doctor for specific conditions"
    ],
    "ingredientsList": [
      "Fenugreek Seeds (Methi)",
      "No Additives"
    ],
    "productDynamicFields": {
      "form": "Whole Seeds",
      "dosage": "Oral",
      "shelfLife": "24 months",
      "countryOfOrigin": "India",
      "suitableFor": "Adults above 18 years",
      "storage": "Store in airtight container"
    },
    "productSizes": [
      "100gm",
      "200gm",
      "500gm"
    ],
    "id": 16,
    "category": "ayurvedic",
    "image": "https://images.unsplash.com/photo-1599932887768-d6cb80133949?w=400&h=400&fit=crop"
  }
];

let products = [...fertilityProducts];
let filteredProducts = [...fertilityProducts];
let productGrid, sortSelect, showMoreBtn;

let currentFilters = {
  category: 'all',
  brand: 'all',
  discount: 'all',
  minPrice: 0,
  maxPrice: 3000
};

let visibleProductsCount = 8;
let allFilteredProducts = [];
// ======================================================
document.addEventListener('DOMContentLoaded', () => {
  productGrid = document.getElementById('productGrid');
  sortSelect = document.getElementById('sortSelect');
  showMoreBtn = document.getElementById('showMoreBtn');

  sessionStorage.setItem('currentPageProducts', JSON.stringify(fertilityProducts));

  renderInitialProducts();
  updateResultsCount();
  initSlider();
  initSorting();
  initMobileSheets();
  initFilters();
  initShowMore();

  productGrid.addEventListener('click', (e) => {
    const btn = e.target.closest('.wishlist-btn');
    if (!btn) return;

    e.preventDefault();
    e.stopPropagation();

    const productId = Number(btn.dataset.id);
    toggleWishlist(productId, btn);
  });
});

// =============== CARD CREATION ===============
function createCard(p) {
  const div = document.createElement('div');
  
  const isOutOfStock = p.productQuantity <= 0;
  const stockStatus = p.productStatus === 'Available' ? 'In Stock' : 'Out of Stock';
  const stockClass = isOutOfStock ? 'out-of-stock' : 'in-stock';
  const cardClass = isOutOfStock ? 'out-of-stock-card' : '';
  
  const discount = Math.round(((p.productOldPrice - p.productPrice) / p.productOldPrice) * 100);
  
  const priceLine = p.productOldPrice > p.productPrice
    ? `₹${p.productPrice} <s class="text-gray-400 text-sm">₹${p.productOldPrice}</s> <span class="text-green-600 text-sm font-bold">${discount}% off</span>`
    : `₹${p.productPrice}`;

  const wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
  const isWishlisted = wishlist.some(item => item.id === p.id);

  div.className = `bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition cursor-pointer relative ${cardClass}`;
  
  div.innerHTML = `
    <div class="relative">
      <img src="${p.image}" alt="${p.productName}" class="w-full h-48 object-cover">
      
      <!-- Stock Status Badge -->
      <div class="stock-badge ${stockClass}">${stockStatus}</div>
      
      <!-- Wishlist button -->
      <button class="wishlist-btn ${isWishlisted ? 'active' : ''}" data-id="${p.id}">
        <i class="fa-${isWishlisted ? 'solid' : 'regular'} fa-heart"></i>
      </button>
    </div>
    <div class="p-4">
      <h3 class="font-semibold text-sm mb-1">${p.productName}</h3>
      <p class="text-xs text-gray-500 mb-2">${p.brandName}</p>
     
      <div class="mt-2 font-bold text-lg text-green-600">${priceLine}</div>
      <div class="flex items-center mt-2">
        
       
      </div>
      <button onclick="${isOutOfStock ? 'void(0)' : `navigateToProductDetails(${p.id})`}" 
              class="mt-4 w-full ${isOutOfStock ? 'out-of-stock-btn bg-gray-400' : 'bg-[#4A70A9] hover:bg-[#16476A]'} text-white py-2 rounded-lg font-bold transition"
              ${isOutOfStock ? 'disabled' : ''}>
        ${isOutOfStock ? 'Out of Stock' : 'View Details'}
      </button>
    </div>
  `;
  return div;
}

// =============== RENDER INITIAL PRODUCTS (8 products) ===============
function renderInitialProducts() {
  productGrid.innerHTML = '';
  
  if (allFilteredProducts.length === 0) {
    productGrid.innerHTML = '<div class="col-span-full text-center py-20 text-gray-500 text-xl">No products found</div>';
    showMoreBtn.classList.add('hidden');
    return;
  }
  
  const productsToShow = allFilteredProducts.slice(0, visibleProductsCount);
  
  productsToShow.forEach(p => productGrid.appendChild(createCard(p)));
  
  if (allFilteredProducts.length > visibleProductsCount) {
    showMoreBtn.classList.remove('hidden');
  } else {
    showMoreBtn.classList.add('hidden');
  }
}

// =============== SHOW MORE FUNCTIONALITY ===============
function initShowMore() {
  showMoreBtn.addEventListener('click', () => {
    visibleProductsCount += 8;
    
    productGrid.innerHTML = '';
    const productsToShow = allFilteredProducts.slice(0, visibleProductsCount);
    
    productsToShow.forEach(p => productGrid.appendChild(createCard(p)));
    
    if (visibleProductsCount >= allFilteredProducts.length) {
      showMoreBtn.classList.add('hidden');
    }
    
    updateResultsCount();
  });
}

// =============== WISHLIST TOGGLE ===============
// Updated toggleWishlist function for fertility.js and wellness.js
function toggleWishlist(productId, buttonElement) {
  let wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
  const product = products.find(p => p.id === productId);

  const index = wishlist.findIndex(item => item.id === productId);

  if (index === -1) {
    // Save product with consistent property names
    const wishlistProduct = {
      id: product.id,
      productId: product.id,
      name: product.productName, // Important: use 'name' not 'productName'
      productName: product.productName,
      price: product.productPrice,
      originalPrice: product.productOldPrice || product.productPrice,
      brand: product.brandName, // Important: use 'brand' not 'brandName'
      brandName: product.brandName,
      image: product.image,
      description: product.productDescription,
      category: product.category || 'wellness',
      productCategory: product.productCategory,
      productStatus: product.productStatus,
      productQuantity: product.productQuantity,
      productRating: product.productRating || 4.0,
      productUnit: product.productUnit,
      sku: product.sku,
      productSku: product.sku
    };
    
    wishlist.push(wishlistProduct);
    localStorage.setItem('wishlist', JSON.stringify(wishlist));
    
    // Update button
    buttonElement.classList.add('active');
    buttonElement.innerHTML = '<i class="fa-solid fa-heart"></i>';
    
    // Show notification
    showToast('Added to wishlist', 'success');
  } else {
    wishlist.splice(index, 1);
    localStorage.setItem('wishlist', JSON.stringify(wishlist));
    
    buttonElement.classList.remove('active');
    buttonElement.innerHTML = '<i class="fa-regular fa-heart"></i>';
    
    showToast('Removed from wishlist', 'info');
  }

  // Dispatch event
  window.dispatchEvent(new CustomEvent('wishlistUpdated', { 
    detail: { count: wishlist.length } 
  }));
}

// Add toast function if not exists
function showToast(message, type = 'success') {
  // Remove existing toast
  const existing = document.querySelector('.toast-notification');
  if (existing) existing.remove();
  
  const toast = document.createElement('div');
  toast.className = `toast-notification fixed top-20 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white ${
    type === 'success' ? 'bg-green-500' : 
    type === 'error' ? 'bg-red-500' : 
    'bg-blue-500'
  }`;
  toast.innerHTML = `
    <div class="flex items-center gap-2">
      <i class="fas fa-${type === 'success' ? 'check' : 'info'}"></i>
      <span>${message}</span>
    </div>
  `;
  
  document.body.appendChild(toast);
  
  setTimeout(() => {
    toast.remove();
  }, 3000);
}

function updateResultsCount() {
  const countEl = document.getElementById('resultsCount');
  if (countEl) {
    const showingCount = Math.min(visibleProductsCount, allFilteredProducts.length);
    countEl.textContent = `Showing ${showingCount} of ${allFilteredProducts.length} products`;
  }
  updateTitle();
}

function updateTitle() {
  const titleEl = document.querySelector('h2.text-3xl');
  if (!titleEl) return;

  const categoryNames = {
    'all': 'Fertility Essentials',
    'male': 'Male Infertility Support',
    'female': 'Female Infertility Support',
    'ayurvedic': 'Ayurvedic Fertility Supplements'
  };

  let title = categoryNames[currentFilters.category] || 'Fertility Products';

  if (currentFilters.brand !== 'all') {
    title += ` - ${currentFilters.brand}`;
  }

  titleEl.textContent = title;
}

// Apply Filters Function
function applyFilters() {
  allFilteredProducts = products.filter(product => {
    if (currentFilters.category !== 'all' && product.category !== currentFilters.category) {
      return false;
    }

    if (currentFilters.brand !== 'all' && product.brandName !== currentFilters.brand) {
      return false;
    }

    if (product.productPrice < currentFilters.minPrice || product.productPrice > currentFilters.maxPrice) {
      return false;
    }

    if (currentFilters.discount !== 'all') {
      const requiredDiscount = parseInt(currentFilters.discount);
      const discount = Math.round(((product.productOldPrice - product.productPrice) / product.productOldPrice) * 100);
      if (discount < requiredDiscount) {
        return false;
      }
    }

    return true;
  });

  visibleProductsCount = 8;
  applySorting();
  renderInitialProducts();
  updateResultsCount();
}

// Apply Sorting Function
function applySorting() {
  const val = sortSelect.value;
  if (val === 'price-low') allFilteredProducts.sort((a,b) => a.productPrice - b.productPrice);
  if (val === 'price-high') allFilteredProducts.sort((a,b) => b.productPrice - a.productPrice);
  if (val === 'rating') allFilteredProducts.sort((a,b) => (b.productRating || 0) - (a.productRating || 0));
  if (val === 'newest') allFilteredProducts.sort((a,b) => b.id - a.id);
}

// Initialize Desktop Filters
function initFilters() {
  const desktopForm = document.getElementById('filterForm');
  if (desktopForm) {
    desktopForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      currentFilters.category = document.querySelector('input[name="category"]:checked')?.value || 'all';
      currentFilters.brand = document.querySelector('input[name="brand"]:checked')?.value || 'all';
      currentFilters.discount = document.querySelector('input[name="discount"]:checked')?.value || 'all';
      
      applyFilters();
    });

    desktopForm.querySelectorAll('input[type="radio"]').forEach(radio => {
      radio.addEventListener('change', () => {
        currentFilters.category = document.querySelector('input[name="category"]:checked')?.value || 'all';
        currentFilters.brand = document.querySelector('input[name="brand"]:checked')?.value || 'all';
        currentFilters.discount = document.querySelector('input[name="discount"]:checked')?.value || 'all';
        applyFilters();
      });
    });
  }

  const applyMobileBtn = document.getElementById('applyMobileFilters');
  if (applyMobileBtn) {
    applyMobileBtn.addEventListener('click', () => {
      currentFilters.category = document.querySelector('input[name="mobileCategory"]:checked')?.value || 'all';
      currentFilters.brand = document.querySelector('input[name="mobileBrand"]:checked')?.value || 'all';
      currentFilters.discount = document.querySelector('input[name="mobileDiscount"]:checked')?.value || 'all';
      
      applyFilters();
      closeFilterSheet();
    });
  }

  const clearMobileBtn = document.getElementById('clearMobileFilters');
  if (clearMobileBtn) {
    clearMobileBtn.addEventListener('click', () => {
      document.querySelectorAll('input[name="mobileCategory"], input[name="mobileBrand"], input[name="mobileDiscount"]').forEach(radio => {
        if (radio.value === 'all') radio.checked = true;
      });
      
      document.querySelectorAll('input[name="category"], input[name="brand"], input[name="discount"]').forEach(radio => {
        if (radio.value === 'all') radio.checked = true;
      });

      currentFilters = {
        category: 'all',
        brand: 'all',
        discount: 'all',
        minPrice: 0,
        maxPrice: 3000
      };

      document.getElementById('minThumb').value = 0;
      document.getElementById('maxThumb').value = 3000;
      document.getElementById('mobileMinThumb').value = 0;
      document.getElementById('mobileMaxThumb').value = 3000;
      updateDesktopSlider();
      updateMobileSlider();

      applyFilters();
    });
  }
}

// Navigate to Product Details Page with full product data
window.navigateToProductDetails = function(id) {
  const product = fertilityProducts.find(p => p.id === id);
  if (!product) {
    console.error('Product not found with id:', id);
    return;
  }

  const currentPageName = 'Fertility Essentials';
  
  sessionStorage.setItem('selectedProduct', JSON.stringify(product));
  sessionStorage.setItem('currentPageProducts', JSON.stringify(products));
  sessionStorage.setItem('currentPageName', currentPageName);

  const params = new URLSearchParams({
    id: product.id,
    sku: product.sku,
    name: encodeURIComponent(product.productName),
    brand: encodeURIComponent(product.brandName),
    price: product.productPrice,
    originalPrice: product.productOldPrice || '',
    discount: Math.round(((product.productOldPrice - product.productPrice) / product.productOldPrice) * 100),
    image: encodeURIComponent(product.image),
    description: encodeURIComponent(product.productDescription),
    prescription: product.prescriptionRequired,
    category: product.category || '',
    sourcePage: currentPageName,
    quantity: product.productQuantity || 0,
    mrp: product.productMRP || '',
    rating: product.productRating || 4.0,
    unit: product.productUnit || '',
    benefits: encodeURIComponent(JSON.stringify(product.benefitsList || [])),
    ingredients: encodeURIComponent(JSON.stringify(product.ingredientsList || [])),
    directions: encodeURIComponent(JSON.stringify(product.directionsList || [])),
    dynamicFields: encodeURIComponent(JSON.stringify(product.productDynamicFields || {})),
    mfgDate: product.mfgDate || '',
    expDate: product.expDate || '',
    batchNo: product.batchNo || '',
    sizes: encodeURIComponent(JSON.stringify(product.productSizes || []))
  });

  window.location.href = `../../productdetails.html?${params.toString()}`;
};

function initSorting() {
  sortSelect.addEventListener('change', () => {
    applySorting();
    visibleProductsCount = 8;
    renderInitialProducts();
    updateResultsCount();
  });

  const applySortBtn = document.getElementById('applySortBtn');
  if (applySortBtn) {
    applySortBtn.addEventListener('click', () => {
      const selectedSort = document.querySelector('input[name="mobileSort"]:checked')?.value || 'default';
      sortSelect.value = selectedSort;
      sortSelect.dispatchEvent(new Event('change'));
      closeSortSheet();
    });
  }
}

// Desktop Price Slider
function initSlider() {
  const minThumb = document.getElementById('minThumb');
  const maxThumb = document.getElementById('maxThumb');
  const mobileMinThumb = document.getElementById('mobileMinThumb');
  const mobileMaxThumb = document.getElementById('mobileMaxThumb');

  const updateDesktopSlider = () => {
    const minVal = parseInt(minThumb.value);
    const maxVal = parseInt(maxThumb.value);
    
    if (minVal > maxVal - 100) {
      minThumb.value = maxVal - 100;
    }
    
    const fill = document.getElementById('desktopFill');
    if (fill) {
      fill.style.left = (minVal / 3000) * 100 + '%';
      fill.style.width = ((maxVal - minVal) / 3000) * 100 + '%';
    }
    
    const minValue = document.getElementById('minValue');
    const maxValue = document.getElementById('maxValue');
    if (minValue) minValue.textContent = '₹' + minVal;
    if (maxValue) maxValue.textContent = '₹' + maxVal;
    
    currentFilters.minPrice = minVal;
    currentFilters.maxPrice = maxVal;
  };

  const updateMobileSlider = () => {
    const minVal = parseInt(mobileMinThumb.value);
    const maxVal = parseInt(mobileMaxThumb.value);
    
    if (minVal > maxVal - 100) {
      mobileMinThumb.value = maxVal - 100;
    }
    
    const fill = document.getElementById('mobileFill');
    if (fill) {
      fill.style.left = (minVal / 3000) * 100 + '%';
      fill.style.width = ((maxVal - minVal) / 3000) * 100 + '%';
    }
    
    const minValue = document.getElementById('mobileMinValue');
    const maxValue = document.getElementById('mobileMaxValue');
    if (minValue) minValue.textContent = '₹' + minVal;
    if (maxValue) maxValue.textContent = '₹' + maxVal;
    
    currentFilters.minPrice = minVal;
    currentFilters.maxPrice = maxVal;
  };

  if (minThumb && maxThumb) {
    minThumb.oninput = () => {
      updateDesktopSlider();
      applyFilters();
    };
    maxThumb.oninput = () => {
      updateDesktopSlider();
      applyFilters();
    };
    updateDesktopSlider();
  }

  if (mobileMinThumb && mobileMaxThumb) {
    mobileMinThumb.oninput = updateMobileSlider;
    mobileMaxThumb.oninput = updateMobileSlider;
    updateMobileSlider();
  }

  window.updateDesktopSlider = updateDesktopSlider;
  window.updateMobileSlider = updateMobileSlider;
}

// Mobile Sheets
function initMobileSheets() {
  const backdrop = document.getElementById('mobileSheetBackdrop');
  const filterSheet = document.getElementById('filterSheet');
  const sortSheet = document.getElementById('sortSheet');
  
  document.getElementById('openFilterSheet')?.addEventListener('click', () => {
    backdrop.classList.remove('hidden');
    filterSheet.classList.remove('translate-y-full');
  });

  const closeFilterSheet = () => {
    backdrop.classList.add('hidden');
    filterSheet.classList.add('translate-y-full');
  };

  document.getElementById('closeFilterSheet')?.addEventListener('click', closeFilterSheet);
  window.closeFilterSheet = closeFilterSheet;

  document.getElementById('openSortSheet')?.addEventListener('click', () => {
    backdrop.classList.remove('hidden');
    sortSheet.classList.remove('translate-y-full');
  });

  const closeSortSheet = () => {
    backdrop.classList.add('hidden');
    sortSheet.classList.add('translate-y-full');
  };

  document.getElementById('closeSortSheet')?.addEventListener('click', closeSortSheet);
  window.closeSortSheet = closeSortSheet;

  backdrop.addEventListener('click', () => {
    closeFilterSheet();
    closeSortSheet();
  });
}

window.sortProducts = function(type) {
  sortSelect.value = type;
  sortSelect.dispatchEvent(new Event('change'));
  document.getElementById('mobileSheetBackdrop')?.click();
};

// Initial render
allFilteredProducts = [...products];
applySorting();
renderInitialProducts();
updateResultsCount();
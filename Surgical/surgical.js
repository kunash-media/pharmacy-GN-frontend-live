const surgicalProducts = [
  {
    "sku": "SGAUZE001",
    "productName": "Sterile Gauze Pad 10x10cm (Pack of 100)",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Dressings & Bandages",
    "productPrice": 449,
    "productOldPrice": 599,
    "productStatus": "Available",
    "productDescription": "Sterile non-woven gauze pads for wound dressing and surgical procedures. Highly absorbent and lint-free.",
    "productQuantity": 50,
    "productUnit": "Pack of 100 pads",
    "productMRP": 650,
    "productRating": 4.6,
    "prescriptionRequired": false,
    "brandName": "HLL Lifecare",
    "mfgDate": "2024-03-15",
    "expDate": "2027-03-15",
    "batchNo": "BATCH-GAUZE-001",
    "benefitsList": [
      "Sterile and ready-to-use",
      "Highly absorbent",
      "Lint-free non-woven fabric",
      "Ideal for surgical dressing"
    ],
    "directionsList": [
      "Open sterile package",
      "Apply directly to wound",
      "Secure with adhesive tape",
      "Change dressing daily or as needed"
    ],
    "ingredientsList": [
      "Non-woven Gauze",
      "Sterile Packaging"
    ],
    "productDynamicFields": {
      "size": "10x10cm",
      "sterility": "Sterile",
      "material": "Non-woven Cotton",
      "shelfLife": "36 months",
      "countryOfOrigin": "India",
      "suitableFor": "Hospital and clinical use",
      "storage": "Store in cool dry place"
    },
    "productSizes": [
      "Pack of 50",
      "Pack of 100",
      "Pack of 200"
    ],
    "id": 1,
    "category": "dressings",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "SGLOVES001",
    "productName": "Latex Surgical Gloves Powder-Free (Box of 50)",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Surgical Consumables",
    "productPrice": 649,
    "productOldPrice": 850,
    "productStatus": "Available",
    "productDescription": "Powder-free latex surgical gloves for medical procedures. Provides excellent tactile sensitivity.",
    "productQuantity": 25,
    "productUnit": "Box of 50 pairs",
    "productMRP": 900,
    "productRating": 4.7,
    "prescriptionRequired": false,
    "brandName": "3M Healthcare",
    "mfgDate": "2024-02-10",
    "expDate": "2027-02-10",
    "batchNo": "BATCH-GLOVE-002",
    "benefitsList": [
      "Powder-free for reduced allergy risk",
      "Excellent tactile sensitivity",
      "Amber colored for reduced glare",
      "Textured fingertips for better grip"
    ],
    "directionsList": [
      "Select appropriate size",
      "Put on before procedure",
      "Change between patients",
      "Dispose after single use"
    ],
    "ingredientsList": [
      "Natural Latex Rubber",
      "Accelerators",
      "Antioxidants"
    ],
    "productDynamicFields": {
      "size": "Medium (7.0)",
      "material": "Natural Latex",
      "powder": "Powder-free",
      "sterility": "Sterile",
      "shelfLife": "60 months",
      "countryOfOrigin": "India",
      "suitableFor": "Surgical and examination use"
    },
    "productSizes": [
      "Small (6.0)",
      "Medium (7.0)",
      "Large (8.0)",
      "XL (9.0)"
    ],
    "id": 2,
    "category": "consumables",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "SIVCANN001",
    "productName": "IV Cannula 20G (Pink)",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "IV & Infusion Items",
    "productPrice": 68,
    "productOldPrice": 85,
    "productStatus": "Available",
    "productDescription": "IV cannula with safety wing for secure intravenous access. Color-coded for easy identification.",
    "productQuantity": 100,
    "productUnit": "Single unit",
    "productMRP": 100,
    "productRating": 4.5,
    "prescriptionRequired": true,
    "brandName": "Becton Dickinson",
    "mfgDate": "2024-01-20",
    "expDate": "2026-01-20",
    "batchNo": "BATCH-IVCAN-003",
    "benefitsList": [
      "Safety wing design",
      "Color-coded for size identification",
      "Radiopaque stripe for X-ray visibility",
      "Easy insertion with sharp needle"
    ],
    "directionsList": [
      "Select appropriate vein",
      "Insert at 15-30 degree angle",
      "Secure with adhesive tape",
      "Flush with saline before use"
    ],
    "ingredientsList": [
      "Medical Grade Plastic",
      "Stainless Steel Needle"
    ],
    "productDynamicFields": {
      "size": "20G (Pink)",
      "length": "32mm",
      "flowRate": "60ml/min",
      "sterility": "Sterile",
      "shelfLife": "36 months",
      "countryOfOrigin": "India",
      "suitableFor": "Intravenous therapy"
    },
    "productSizes": [
      "18G (Green)",
      "20G (Pink)",
      "22G (Blue)",
      "24G (Yellow)"
    ],
    "id": 3,
    "category": "iv",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "SFOLY001",
    "productName": "Foley Catheter 2-Way 16Fr (Silicone)",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Catheters & Tubes",
    "productPrice": 385,
    "productOldPrice": 500,
    "productStatus": "Available",
    "productDescription": "Silicone Foley catheter with 5ml balloon for urinary drainage. Biocompatible and latex-free.",
    "productQuantity": 30,
    "productUnit": "Single catheter",
    "productMRP": 550,
    "productRating": 4.4,
    "prescriptionRequired": true,
    "brandName": "Smith & Nephew",
    "mfgDate": "2024-03-01",
    "expDate": "2027-03-01",
    "batchNo": "BATCH-FOLY-004",
    "benefitsList": [
      "Silicone material reduces encrustation",
      "5ml balloon for secure placement",
      "Latex-free for reduced allergies",
      "Radiopaque stripe for X-ray visibility"
    ],
    "directionsList": [
      "Use sterile technique",
      "Inflate balloon with sterile water",
      "Connect to drainage bag",
      "Change every 2-4 weeks"
    ],
    "ingredientsList": [
      "Medical Grade Silicone",
      "Silicone Balloon"
    ],
    "productDynamicFields": {
      "size": "16 French",
      "length": "40cm",
      "balloon": "5ml",
      "channels": "2-Way",
      "sterility": "Sterile",
      "shelfLife": "60 months",
      "countryOfOrigin": "USA"
    },
    "productSizes": [
      "12Fr",
      "14Fr",
      "16Fr",
      "18Fr",
      "20Fr"
    ],
    "id": 4,
    "category": "catheters",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "SHYDRO001",
    "productName": "Hydrocolloid Dressing 10x10cm",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Wound Care",
    "productPrice": 285,
    "productOldPrice": 380,
    "productStatus": "Available",
    "productDescription": "Hydrocolloid dressing for moist wound healing. Creates optimal environment for healing.",
    "productQuantity": 40,
    "productUnit": "Box of 10 dressings",
    "productMRP": 420,
    "productRating": 4.6,
    "prescriptionRequired": false,
    "brandName": "Johnson & Johnson",
    "mfgDate": "2024-02-15",
    "expDate": "2026-02-15",
    "batchNo": "BATCH-HYDRO-005",
    "benefitsList": [
      "Moist wound healing environment",
      "Waterproof barrier",
      "Absorbs exudate",
      "Reduces pain during dressing changes"
    ],
    "directionsList": [
      "Clean wound area",
      "Apply dressing to dry skin",
      "Leave for 3-7 days",
      "Change when dressing lifts"
    ],
    "ingredientsList": [
      "Hydrocolloid Particles",
      "Polyurethane Foam",
      "Adhesive Border"
    ],
    "productDynamicFields": {
      "size": "10x10cm",
      "absorbency": "Moderate",
      "waterResistant": "Yes",
      "wearTime": "3-7 days",
      "sterility": "Sterile",
      "shelfLife": "36 months",
      "suitableFor": "Pressure ulcers, minor burns"
    },
    "productSizes": [
      "5x5cm",
      "10x10cm",
      "15x15cm"
    ],
    "id": 5,
    "category": "wound",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "SKNEE001",
    "productName": "Knee Brace with Hinges (Large)",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Orthopedic Support",
    "productPrice": 1249,
    "productOldPrice": 1699,
    "productStatus": "Available",
    "productDescription": "Hinged knee brace for post-operative support and ligament injuries. Provides stability and compression.",
    "productQuantity": 15,
    "productUnit": "Single brace",
    "productMRP": 1800,
    "productRating": 4.8,
    "prescriptionRequired": false,
    "brandName": "3M Healthcare",
    "mfgDate": "2024-01-10",
    "expDate": "2028-01-10",
    "batchNo": "BATCH-KNEE-006",
    "benefitsList": [
      "Hinged for controlled movement",
      "Adjustable straps for custom fit",
      "Open patella design",
      "Provides medial/lateral support"
    ],
    "directionsList": [
      "Place around knee",
      "Adjust straps for comfort",
      "Set hinge to desired ROM",
      "Wear during activities"
    ],
    "ingredientsList": [
      "Neoprene",
      "Metal Hinges",
      "Velcro Straps"
    ],
    "productDynamicFields": {
      "size": "Large (16-19 inches)",
      "hingeType": "Polycentric",
      "romAdjustment": "0-135 degrees",
      "material": "Neoprene",
      "shelfLife": "60 months",
      "countryOfOrigin": "India",
      "suitableFor": "ACL injuries, post-op rehab"
    },
    "productSizes": [
      "Small",
      "Medium",
      "Large",
      "XL"
    ],
    "id": 6,
    "category": "orthopedic",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "SNS001",
    "productName": "Normal Saline 0.9% 500ml",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "IV Fluids",
    "productPrice": 38,
    "productOldPrice": 50,
    "productStatus": "Available",
    "productDescription": "Sterile normal saline solution for intravenous infusion, irrigation, and wound cleansing.",
    "productQuantity": 200,
    "productUnit": "500ml bottle",
    "productMRP": 65,
    "productRating": 4.3,
    "prescriptionRequired": true,
    "brandName": "HLL Lifecare",
    "mfgDate": "2024-03-05",
    "expDate": "2026-03-05",
    "batchNo": "BATCH-NS-007",
    "benefitsList": [
      "Isotonic solution",
      "Sterile and pyrogen-free",
      "Compatible with most medications",
      "For IV infusion and irrigation"
    ],
    "directionsList": [
      "Check for particulate matter",
      "Use aseptic technique",
      "Infuse at prescribed rate",
      "Discard unused portion"
    ],
    "ingredientsList": [
      "Sodium Chloride",
      "Water for Injection"
    ],
    "productDynamicFields": {
      "concentration": "0.9%",
      "osmolarity": "308 mOsm/L",
      "pH": "4.5-7.0",
      "sterility": "Sterile",
      "shelfLife": "24 months",
      "storage": "Store at room temperature",
      "countryOfOrigin": "India"
    },
    "productSizes": [
      "100ml",
      "250ml",
      "500ml",
      "1000ml"
    ],
    "id": 7,
    "category": "fluids",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "SMINOR001",
    "productName": "Minor OT Dressing Kit",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Surgical Kits",
    "productPrice": 680,
    "productOldPrice": 850,
    "productStatus": "Available",
    "productDescription": "Complete minor operation theater kit containing all essential items for minor surgical procedures.",
    "productQuantity": 20,
    "productUnit": "Single kit",
    "productMRP": 950,
    "productRating": 4.7,
    "prescriptionRequired": false,
    "brandName": "HLL Lifecare",
    "mfgDate": "2024-02-20",
    "expDate": "2027-02-20",
    "batchNo": "BATCH-MINOR-008",
    "benefitsList": [
      "Complete sterile kit",
      "Saves preparation time",
      "Reduces cross-contamination risk",
      "Standardized components"
    ],
    "directionsList": [
      "Open outer packaging",
      "Arrange on sterile field",
      "Use aseptic technique",
      "Discard after single use"
    ],
    "ingredientsList": [
      "Sterile Drapes",
      "Gauze Pads",
      "Surgical Gloves",
      "Antiseptic Solution",
      "Suture Materials"
    ],
    "productDynamicFields": {
      "contents": "Drape, gloves, gauze, antiseptic, suture",
      "sterility": "Sterile",
      "singleUse": "Yes",
      "shelfLife": "36 months",
      "countryOfOrigin": "India",
      "suitableFor": "Minor surgical procedures"
    },
    "productSizes": [
      "Basic Kit",
      "Standard Kit",
      "Premium Kit"
    ],
    "id": 8,
    "category": "kits",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "SBAND001",
    "productName": "Adhesive Bandage Strips (100 pcs)",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Dressings & Bandages",
    "productPrice": 179,
    "productOldPrice": 250,
    "productStatus": "Out of Stock",
    "productDescription": "Assorted size adhesive bandages for minor cuts and abrasions. Water-resistant and flexible.",
    "productQuantity": 0,
    "productUnit": "Box of 100 strips",
    "productMRP": 300,
    "productRating": 4.2,
    "prescriptionRequired": false,
    "brandName": "Johnson & Johnson",
    "mfgDate": "2024-01-15",
    "expDate": "2028-01-15",
    "batchNo": "BATCH-BAND-009",
    "benefitsList": [
      "Water-resistant",
      "Flexible for joints",
      "Non-stick pad",
      "Hypoallergenic adhesive"
    ],
    "directionsList": [
      "Clean wound area",
      "Remove backing paper",
      "Apply over wound",
      "Press edges to secure"
    ],
    "ingredientsList": [
      "Non-woven Pad",
      "Acrylic Adhesive",
      "Polyethylene Backing"
    ],
    "productDynamicFields": {
      "sizes": "Assorted (S/M/L)",
      "waterResistant": "Yes",
      "latexFree": "Yes",
      "shelfLife": "60 months",
      "countryOfOrigin": "India",
      "suitableFor": "Minor cuts and abrasions"
    },
    "productSizes": [
      "Box of 20",
      "Box of 50",
      "Box of 100"
    ],
    "id": 9,
    "category": "dressings",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "SMASK001",
    "productName": "3-Ply Face Mask with Nose Pin (50 pcs)",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Surgical Consumables",
    "productPrice": 149,
    "productOldPrice": 200,
    "productStatus": "Available",
    "productDescription": "3-ply surgical face mask with nose clip and ear loops. Provides protection against droplets.",
    "productQuantity": 80,
    "productUnit": "Box of 50 masks",
    "productMRP": 250,
    "productRating": 4.4,
    "prescriptionRequired": false,
    "brandName": "3M Healthcare",
    "mfgDate": "2024-03-10",
    "expDate": "2026-03-10",
    "batchNo": "BATCH-MASK-010",
    "benefitsList": [
      "3-layer protection",
      "Adjustable nose clip",
      "Soft ear loops",
      "Breathable material"
    ],
    "directionsList": [
      "Place over nose and mouth",
      "Pinch nose clip",
      "Secure ear loops",
      "Discard after single use"
    ],
    "ingredientsList": [
      "Melt-blown Filter Layer",
      "Non-woven Outer Layers"
    ],
    "productDynamicFields": {
      "layers": "3-Ply",
      "filtration": ">95% BFE",
      "noseClip": "Yes",
      "earLoops": "Elastic",
      "shelfLife": "36 months",
      "countryOfOrigin": "India"
    },
    "productSizes": [
      "Box of 25",
      "Box of 50",
      "Box of 100"
    ],
    "id": 10,
    "category": "consumables",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "SINFUS001",
    "productName": "IV Infusion Set with Airvent",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "IV & Infusion Items",
    "productPrice": 42,
    "productOldPrice": 55,
    "productStatus": "Available",
    "productDescription": "IV infusion set with airvent and roller clamp for controlled fluid administration.",
    "productQuantity": 150,
    "productUnit": "Single set",
    "productMRP": 70,
    "productRating": 4.5,
    "prescriptionRequired": true,
    "brandName": "Becton Dickinson",
    "mfgDate": "2024-02-25",
    "expDate": "2027-02-25",
    "batchNo": "BATCH-INFUS-011",
    "benefitsList": [
      "Airvent prevents air embolism",
      "Roller clamp for flow control",
      "Luer lock connection",
      "Clear tubing for visibility"
    ],
    "directionsList": [
      "Connect to IV bag",
      "Prime tubing",
      "Connect to catheter",
      "Adjust flow rate"
    ],
    "ingredientsList": [
      "PVC Tubing",
      "Polypropylene Connectors",
      "Rubber Roller"
    ],
    "productDynamicFields": {
      "length": "150cm",
      "dropFactor": "20 drops/ml",
      "airvent": "Yes",
      "sterility": "Sterile",
      "shelfLife": "60 months",
      "countryOfOrigin": "India"
    },
    "productSizes": [
      "Standard (150cm)",
      "Long (200cm)",
      "Micro-drip (60 drops/ml)"
    ],
    "id": 11,
    "category": "iv",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "SRL001",
    "productName": "Ringer Lactate 500ml",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "IV Fluids",
    "productPrice": 48,
    "productOldPrice": 65,
    "productStatus": "Available",
    "productDescription": "Balanced electrolyte solution for intravenous fluid replacement. Similar to plasma composition.",
    "productQuantity": 120,
    "productUnit": "500ml bottle",
    "productMRP": 80,
    "productRating": 4.6,
    "prescriptionRequired": true,
    "brandName": "HLL Lifecare",
    "mfgDate": "2024-03-12",
    "expDate": "2026-03-12",
    "batchNo": "BATCH-RL-012",
    "benefitsList": [
      "Balanced electrolyte solution",
      "Similar to plasma composition",
      "For fluid resuscitation",
      "Maintains electrolyte balance"
    ],
    "directionsList": [
      "Administer IV only",
      "Use aseptic technique",
      "Infuse at prescribed rate",
      "Monitor electrolytes"
    ],
    "ingredientsList": [
      "Sodium Chloride",
      "Potassium Chloride",
      "Calcium Chloride",
      "Sodium Lactate",
      "Water for Injection"
    ],
    "productDynamicFields": {
      "composition": "Na+, K+, Ca++, Lactate",
      "osmolarity": "273 mOsm/L",
      "pH": "6.0-7.5",
      "sterility": "Sterile",
      "shelfLife": "24 months",
      "storage": "Store at room temperature"
    },
    "productSizes": [
      "250ml",
      "500ml",
      "1000ml"
    ],
    "id": 12,
    "category": "fluids",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "SSUTURE001",
    "productName": "Suture Removal Kit",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Surgical Kits",
    "productPrice": 380,
    "productOldPrice": 500,
    "productStatus": "Available",
    "productDescription": "Complete sterile kit for suture removal. Contains all necessary instruments and dressings.",
    "productQuantity": 25,
    "productUnit": "Single kit",
    "productMRP": 550,
    "productRating": 4.7,
    "prescriptionRequired": false,
    "brandName": "Johnson & Johnson",
    "mfgDate": "2024-02-28",
    "expDate": "2027-02-28",
    "batchNo": "BATCH-SUTURE-013",
    "benefitsList": [
      "Sterile ready-to-use kit",
      "All instruments included",
      "Reduces infection risk",
      "Saves preparation time"
    ],
    "directionsList": [
      "Open sterile field",
      "Clean suture line",
      "Cut and remove sutures",
      "Apply dressing"
    ],
    "ingredientsList": [
      "Suture Scissors",
      "Forceps",
      "Sterile Drape",
      "Antiseptic Swabs",
      "Dressing Materials"
    ],
    "productDynamicFields": {
      "contents": "Scissors, forceps, drape, antiseptic, dressing",
      "sterility": "Sterile",
      "singleUse": "Yes",
      "shelfLife": "36 months",
      "countryOfOrigin": "India"
    },
    "productSizes": [
      "Basic Kit",
      "Deluxe Kit"
    ],
    "id": 13,
    "category": "kits",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "SBETADINE001",
    "productName": "Povidone Iodine Ointment 20g",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Wound Care",
    "productPrice": 89,
    "productOldPrice": 120,
    "productStatus": "Out of Stock",
    "productDescription": "Antiseptic ointment for wound disinfection and prevention of infection. Broad-spectrum antimicrobial.",
    "productQuantity": 0,
    "productUnit": "20g tube",
    "productMRP": 150,
    "productRating": 4.5,
    "prescriptionRequired": false,
    "brandName": "Johnson & Johnson",
    "mfgDate": "2024-01-30",
    "expDate": "2026-01-30",
    "batchNo": "BATCH-BET-014",
    "benefitsList": [
      "Broad-spectrum antimicrobial",
      "Sustained release of iodine",
      "Water-soluble base",
      "Non-staining formula"
    ],
    "directionsList": [
      "Clean wound area",
      "Apply thin layer",
      "Cover with dressing",
      "Apply 1-3 times daily"
    ],
    "ingredientsList": [
      "Povidone Iodine 5%",
      "Polyethylene Glycol Base"
    ],
    "productDynamicFields": {
      "strength": "5%",
      "form": "Ointment",
      "weight": "20g",
      "shelfLife": "36 months",
      "countryOfOrigin": "India",
      "suitableFor": "Minor wounds, cuts, abrasions"
    },
    "productSizes": [
      "10g",
      "20g",
      "50g"
    ],
    "id": 14,
    "category": "wound",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  },
  {
    "sku": "SANKLE001",
    "productName": "Ankle Support Neoprene",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "Orthopedic Support",
    "productPrice": 499,
    "productOldPrice": 650,
    "productStatus": "Available",
    "productDescription": "Neoprene ankle brace for sprain support and stability. Provides compression and warmth.",
    "productQuantity": 18,
    "productUnit": "Single support",
    "productMRP": 750,
    "productRating": 4.6,
    "prescriptionRequired": false,
    "brandName": "3M Healthcare",
    "mfgDate": "2024-03-08",
    "expDate": "2028-03-08",
    "batchNo": "BATCH-ANKLE-015",
    "benefitsList": [
      "Neoprene provides warmth",
      "Adjustable strap for compression",
      "Contoured heel design",
      "Improves proprioception"
    ],
    "directionsList": [
      "Slide over foot",
      "Position heel in opening",
      "Adjust straps for comfort",
      "Wear during activities"
    ],
    "ingredientsList": [
      "Neoprene",
      "Velcro Straps",
      "Nylon Lining"
    ],
    "productDynamicFields": {
      "size": "Medium",
      "material": "Neoprene",
      "adjustability": "Yes",
      "leftRight": "Universal",
      "shelfLife": "60 months",
      "countryOfOrigin": "India",
      "suitableFor": "Ankle sprains, instability"
    },
    "productSizes": [
      "Small",
      "Medium",
      "Large"
    ],
    "id": 15,
    "category": "orthopedic",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=400&fit=crop"
  },
  {
    "sku": "SD5W001",
    "productName": "Dextrose 5% 500ml",
    "productCategory": "Surgical Supplies",
    "productSubCategory": "IV Fluids",
    "productPrice": 42,
    "productOldPrice": 55,
    "productStatus": "Available",
    "productDescription": "5% dextrose solution for intravenous hydration and calorie supplementation.",
    "productQuantity": 90,
    "productUnit": "500ml bottle",
    "productMRP": 70,
    "productRating": 4.4,
    "prescriptionRequired": true,
    "brandName": "HLL Lifecare",
    "mfgDate": "2024-03-20",
    "expDate": "2026-03-20",
    "batchNo": "BATCH-D5W-016",
    "benefitsList": [
      "Provides calories",
      "Isotonic solution",
      "Free water replacement",
      "Compatible with medications"
    ],
    "directionsList": [
      "Administer IV only",
      "Check for crystallization",
      "Infuse at prescribed rate",
      "Monitor blood glucose"
    ],
    "ingredientsList": [
      "Dextrose Monohydrate",
      "Water for Injection"
    ],
    "productDynamicFields": {
      "concentration": "5%",
      "calories": "170 kcal/L",
      "osmolarity": "252 mOsm/L",
      "pH": "3.5-6.5",
      "sterility": "Sterile",
      "shelfLife": "24 months"
    },
    "productSizes": [
      "250ml",
      "500ml",
      "1000ml"
    ],
    "id": 16,
    "category": "fluids",
    "image": "https://images.unsplash.com/photo-1584017911766-d451b3d0e843?w=400&h=400&fit=crop"
  }
];

let products = [...surgicalProducts];
let filteredProducts = [...surgicalProducts];
let productGrid, sortSelect, showMoreBtn;

let currentFilters = {
  category: 'all',
  brand: 'all',
  discount: 'all',
  minPrice: 0,
  maxPrice: 10000
};

let visibleProductsCount = 8;
let allFilteredProducts = [];

// ======================================================
document.addEventListener('DOMContentLoaded', () => {
  productGrid = document.getElementById('productGrid');
  sortSelect = document.getElementById('sortSelect');
  showMoreBtn = document.getElementById('showMoreBtn');

  sessionStorage.setItem('currentPageProducts', JSON.stringify(surgicalProducts));

  renderInitialProducts();
  updateResultsCount();
  initSlider();
  initSorting();
  initMobileSheets();
  initFilters();
  initShowMore();

  productGrid.addEventListener('click', (e) => {
    const btn = e.target.closest('.wishlist-btn');
    if (!btn) return;

    e.preventDefault();
    e.stopPropagation();

    const productId = Number(btn.dataset.id);
    toggleWishlist(productId, btn);
  });
});

// =============== CARD CREATION ===============
function createCard(p) {
  const div = document.createElement('div');
  
  const isOutOfStock = p.productQuantity <= 0;
  const stockStatus = p.productStatus === 'Available' ? 'In Stock' : 'Out of Stock';
  const stockClass = isOutOfStock ? 'out-of-stock' : 'in-stock';
  const cardClass = isOutOfStock ? 'out-of-stock-card' : '';
  
  const discount = Math.round(((p.productOldPrice - p.productPrice) / p.productOldPrice) * 100);
  
  const priceLine = p.productOldPrice > p.productPrice
    ? `₹${p.productPrice} <s class="text-gray-400 text-sm">₹${p.productOldPrice}</s> <span class="text-green-600 text-sm font-bold">${discount}% off</span>`
    : `₹${p.productPrice}`;

  const wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
  const isWishlisted = wishlist.some(item => item.id === p.id);

  div.className = `bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition cursor-pointer relative ${cardClass}`;
  
  div.innerHTML = `
    <div class="relative">
      <img src="${p.image}" alt="${p.productName}" class="w-full h-48 object-cover">
      
      <!-- Stock Status Badge -->
      <div class="stock-badge ${stockClass}">${stockStatus}</div>
      
      <!-- Wishlist button -->
      <button class="wishlist-btn ${isWishlisted ? 'active' : ''}" data-id="${p.id}">
        <i class="fa-${isWishlisted ? 'solid' : 'regular'} fa-heart"></i>
      </button>
    </div>
    <div class="p-4">
      <h3 class="font-semibold text-sm mb-1">${p.productName}</h3>
      <p class="text-xs text-gray-500 mb-2">${p.brandName}</p>
     
      <div class="mt-2 font-bold text-lg text-green-600">${priceLine}</div>
      <div class="flex items-center mt-2">
        
       
      </div>
      <button onclick="${isOutOfStock ? 'void(0)' : `navigateToProductDetails(${p.id})`}" 
              class="mt-4 w-full ${isOutOfStock ? 'out-of-stock-btn bg-gray-400' : 'bg-[#4A70A9] hover:bg-[#16476A]'} text-white py-2 rounded-lg font-bold transition"
              ${isOutOfStock ? 'disabled' : ''}>
        ${isOutOfStock ? 'Out of Stock' : 'View Details'}
      </button>
    </div>
  `;
  return div;
}

// =============== RENDER INITIAL PRODUCTS (8 products) ===============
function renderInitialProducts() {
  productGrid.innerHTML = '';
  
  if (allFilteredProducts.length === 0) {
    productGrid.innerHTML = '<div class="col-span-full text-center py-20 text-gray-500 text-xl">No products found</div>';
    showMoreBtn.classList.add('hidden');
    return;
  }
  
  const productsToShow = allFilteredProducts.slice(0, visibleProductsCount);
  
  productsToShow.forEach(p => productGrid.appendChild(createCard(p)));
  
  if (allFilteredProducts.length > visibleProductsCount) {
    showMoreBtn.classList.remove('hidden');
  } else {
    showMoreBtn.classList.add('hidden');
  }
}

// =============== SHOW MORE FUNCTIONALITY ===============
function initShowMore() {
  showMoreBtn.addEventListener('click', () => {
    visibleProductsCount += 8;
    
    productGrid.innerHTML = '';
    const productsToShow = allFilteredProducts.slice(0, visibleProductsCount);
    
    productsToShow.forEach(p => productGrid.appendChild(createCard(p)));
    
    if (visibleProductsCount >= allFilteredProducts.length) {
      showMoreBtn.classList.add('hidden');
    }
    
    updateResultsCount();
  });
}

// =============== WISHLIST TOGGLE ===============
function toggleWishlist(productId, buttonElement) {
  let wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
  const product = products.find(p => p.id === productId);

  const index = wishlist.findIndex(item => item.id === productId);

  if (index === -1) {
    // Save product with consistent property names
    const wishlistProduct = {
      id: product.id,
      productId: product.id,
      name: product.productName,
      productName: product.productName,
      price: product.productPrice,
      originalPrice: product.productOldPrice || product.productPrice,
      brand: product.brandName,
      brandName: product.brandName,
      image: product.image,
      description: product.productDescription,
      category: product.category || 'surgical',
      productCategory: product.productCategory,
      productStatus: product.productStatus,
      productQuantity: product.productQuantity,
      productRating: product.productRating || 4.0,
      productUnit: product.productUnit,
      sku: product.sku
    };
    
    wishlist.push(wishlistProduct);
    localStorage.setItem('wishlist', JSON.stringify(wishlist));
    
    buttonElement.classList.add('active');
    buttonElement.innerHTML = '<i class="fa-solid fa-heart"></i>';
    
    // Show toast notification
    showToast('Added to wishlist', 'success');
  } else {
    wishlist.splice(index, 1);
    localStorage.setItem('wishlist', JSON.stringify(wishlist));
    
    buttonElement.classList.remove('active');
    buttonElement.innerHTML = '<i class="fa-regular fa-heart"></i>';
    
    showToast('Removed from wishlist', 'info');
  }

  window.dispatchEvent(new CustomEvent('wishlistUpdated', { 
    detail: { count: wishlist.length } 
  }));
}

// Toast notification function
function showToast(message, type = 'success') {
  const existingToast = document.querySelector('.toast-notification');
  if (existingToast) existingToast.remove();
  
  const toast = document.createElement('div');
  toast.className = `toast-notification fixed top-20 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white ${
    type === 'success' ? 'bg-green-500' : 
    type === 'error' ? 'bg-red-500' : 
    'bg-blue-500'
  }`;
  toast.innerHTML = `
    <div class="flex items-center gap-2">
      <i class="fas fa-${type === 'success' ? 'check' : 'info'}"></i>
      <span>${message}</span>
    </div>
  `;
  
  document.body.appendChild(toast);
  
  setTimeout(() => {
    toast.remove();
  }, 3000);
}

function updateResultsCount() {
  const countEl = document.getElementById('resultsCount');
  if (countEl) {
    const showingCount = Math.min(visibleProductsCount, allFilteredProducts.length);
    countEl.textContent = `Showing ${showingCount} of ${allFilteredProducts.length} products`;
  }
  updateTitle();
}

function updateTitle() {
  const titleEl = document.querySelector('h2.text-3xl');
  if (!titleEl) return;

  const categoryNames = {
    'all': 'Surgical Kits & Medical Supplies',
    'dressings': 'Dressings & Bandages',
    'consumables': 'Surgical Consumables',
    'iv': 'IV & Infusion Items',
    'catheters': 'Catheters & Tubes',
    'wound': 'Wound Care Products',
    'orthopedic': 'Orthopedic Support',
    'fluids': 'IV Fluids & Injectables',
    'kits': 'Surgical Kits'
  };

  let title = categoryNames[currentFilters.category] || 'Surgical Products';

  if (currentFilters.brand !== 'all') {
    title += ` - ${currentFilters.brand}`;
  }

  titleEl.textContent = title;
}

// Apply Filters Function
function applyFilters() {
  allFilteredProducts = products.filter(product => {
    if (currentFilters.category !== 'all' && product.category !== currentFilters.category) {
      return false;
    }

    if (currentFilters.brand !== 'all' && product.brandName !== currentFilters.brand) {
      return false;
    }

    if (product.productPrice < currentFilters.minPrice || product.productPrice > currentFilters.maxPrice) {
      return false;
    }

    if (currentFilters.discount !== 'all') {
      const requiredDiscount = parseInt(currentFilters.discount);
      const discount = Math.round(((product.productOldPrice - product.productPrice) / product.productOldPrice) * 100);
      if (discount < requiredDiscount) {
        return false;
      }
    }

    return true;
  });

  visibleProductsCount = 8;
  applySorting();
  renderInitialProducts();
  updateResultsCount();
}

// Apply Sorting Function
function applySorting() {
  const val = sortSelect.value;
  if (val === 'price-low') allFilteredProducts.sort((a,b) => a.productPrice - b.productPrice);
  if (val === 'price-high') allFilteredProducts.sort((a,b) => b.productPrice - a.productPrice);
  if (val === 'rating') allFilteredProducts.sort((a,b) => (b.productRating || 0) - (a.productRating || 0));
  if (val === 'newest') allFilteredProducts.sort((a,b) => b.id - a.id);
}

// Initialize Desktop Filters
function initFilters() {
  const desktopForm = document.getElementById('filterForm');
  if (desktopForm) {
    desktopForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      currentFilters.category = document.querySelector('input[name="category"]:checked')?.value || 'all';
      currentFilters.brand = document.querySelector('input[name="brand"]:checked')?.value || 'all';
      currentFilters.discount = document.querySelector('input[name="discount"]:checked')?.value || 'all';
      
      applyFilters();
    });

    desktopForm.querySelectorAll('input[type="radio"]').forEach(radio => {
      radio.addEventListener('change', () => {
        currentFilters.category = document.querySelector('input[name="category"]:checked')?.value || 'all';
        currentFilters.brand = document.querySelector('input[name="brand"]:checked')?.value || 'all';
        currentFilters.discount = document.querySelector('input[name="discount"]:checked')?.value || 'all';
        applyFilters();
      });
    });
  }

  const applyMobileBtn = document.getElementById('applyMobileFilters');
  if (applyMobileBtn) {
    applyMobileBtn.addEventListener('click', () => {
      currentFilters.category = document.querySelector('input[name="mobileCategory"]:checked')?.value || 'all';
      currentFilters.brand = document.querySelector('input[name="mobileBrand"]:checked')?.value || 'all';
      currentFilters.discount = document.querySelector('input[name="mobileDiscount"]:checked')?.value || 'all';
      
      applyFilters();
      closeFilterSheet();
    });
  }

  const clearMobileBtn = document.getElementById('clearMobileFilters');
  if (clearMobileBtn) {
    clearMobileBtn.addEventListener('click', () => {
      document.querySelectorAll('input[name="mobileCategory"], input[name="mobileBrand"], input[name="mobileDiscount"]').forEach(radio => {
        if (radio.value === 'all') radio.checked = true;
      });
      
      document.querySelectorAll('input[name="category"], input[name="brand"], input[name="discount"]').forEach(radio => {
        if (radio.value === 'all') radio.checked = true;
      });

      currentFilters = {
        category: 'all',
        brand: 'all',
        discount: 'all',
        minPrice: 0,
        maxPrice: 10000
      };

      document.getElementById('minThumb').value = 0;
      document.getElementById('maxThumb').value = 10000;
      document.getElementById('mobileMinThumb').value = 0;
      document.getElementById('mobileMaxThumb').value = 10000;
      updateDesktopSlider();
      updateMobileSlider();

      applyFilters();
    });
  }
}

// Navigate to Product Details Page with full product data
window.navigateToProductDetails = function(id) {
  const product = surgicalProducts.find(p => p.id === id);
  if (!product) {
    console.error('Product not found with id:', id);
    return;
  }

  const currentPageName = 'Surgical Kits';
  
  sessionStorage.setItem('selectedProduct', JSON.stringify(product));
  sessionStorage.setItem('currentPageProducts', JSON.stringify(products));
  sessionStorage.setItem('currentPageName', currentPageName);

  const discount = product.productOldPrice > product.productPrice 
    ? Math.round(((product.productOldPrice - product.productPrice) / product.productOldPrice) * 100)
    : 0;

  const params = new URLSearchParams({
    id: product.id,
    sku: product.sku,
    name: encodeURIComponent(product.productName),
    brand: encodeURIComponent(product.brandName),
    price: product.productPrice,
    originalPrice: product.productOldPrice || product.productPrice,
    discount: discount,
    image: encodeURIComponent(product.image),
    description: encodeURIComponent(product.productDescription || product.productName),
    prescription: product.prescriptionRequired || false,
    category: product.category || 'surgical',
    sourcePage: currentPageName,
    quantity: product.productQuantity || 0,
    mrp: product.productMRP || product.productPrice,
    rating: product.productRating || 4.0,
    unit: product.productUnit || '',
    benefits: encodeURIComponent(JSON.stringify(product.benefitsList || [])),
    ingredients: encodeURIComponent(JSON.stringify(product.ingredientsList || [])),
    directions: encodeURIComponent(JSON.stringify(product.directionsList || [])),
    dynamicFields: encodeURIComponent(JSON.stringify(product.productDynamicFields || {})),
    mfgDate: product.mfgDate || '',
    expDate: product.expDate || '',
    batchNo: product.batchNo || '',
    sizes: encodeURIComponent(JSON.stringify(product.productSizes || [])),
    stock: product.productQuantity || 0,
    status: product.productStatus || 'Available'
  });

  window.location.href = `../../productdetails.html?${params.toString()}`;
};

function initSorting() {
  sortSelect.addEventListener('change', () => {
    applySorting();
    visibleProductsCount = 8;
    renderInitialProducts();
    updateResultsCount();
  });

  const applySortBtn = document.getElementById('applySortBtn');
  if (applySortBtn) {
    applySortBtn.addEventListener('click', () => {
      const selectedSort = document.querySelector('input[name="mobileSort"]:checked')?.value || 'default';
      sortSelect.value = selectedSort;
      sortSelect.dispatchEvent(new Event('change'));
      closeSortSheet();
    });
  }
}

// Desktop Price Slider
function initSlider() {
  const minThumb = document.getElementById('minThumb');
  const maxThumb = document.getElementById('maxThumb');
  const mobileMinThumb = document.getElementById('mobileMinThumb');
  const mobileMaxThumb = document.getElementById('mobileMaxThumb');

  const updateDesktopSlider = () => {
    const minVal = parseInt(minThumb.value);
    const maxVal = parseInt(maxThumb.value);
    
    if (minVal > maxVal - 100) {
      minThumb.value = maxVal - 100;
    }
    
    const fill = document.getElementById('desktopFill');
    if (fill) {
      fill.style.left = (minVal / 10000) * 100 + '%';
      fill.style.width = ((maxVal - minVal) / 10000) * 100 + '%';
    }
    
    const minValue = document.getElementById('minValue');
    const maxValue = document.getElementById('maxValue');
    if (minValue) minValue.textContent = '₹' + minVal;
    if (maxValue) maxValue.textContent = '₹' + maxVal;
    
    currentFilters.minPrice = minVal;
    currentFilters.maxPrice = maxVal;
  };

  const updateMobileSlider = () => {
    const minVal = parseInt(mobileMinThumb.value);
    const maxVal = parseInt(mobileMaxThumb.value);
    
    if (minVal > maxVal - 100) {
      mobileMinThumb.value = maxVal - 100;
    }
    
    const fill = document.getElementById('mobileFill');
    if (fill) {
      fill.style.left = (minVal / 10000) * 100 + '%';
      fill.style.width = ((maxVal - minVal) / 10000) * 100 + '%';
    }
    
    const minValue = document.getElementById('mobileMinValue');
    const maxValue = document.getElementById('mobileMaxValue');
    if (minValue) minValue.textContent = '₹' + minVal;
    if (maxValue) maxValue.textContent = '₹' + maxVal;
    
    currentFilters.minPrice = minVal;
    currentFilters.maxPrice = maxVal;
  };

  if (minThumb && maxThumb) {
    minThumb.oninput = () => {
      updateDesktopSlider();
      applyFilters();
    };
    maxThumb.oninput = () => {
      updateDesktopSlider();
      applyFilters();
    };
    updateDesktopSlider();
  }

  if (mobileMinThumb && mobileMaxThumb) {
    mobileMinThumb.oninput = updateMobileSlider;
    mobileMaxThumb.oninput = updateMobileSlider;
    updateMobileSlider();
  }

  window.updateDesktopSlider = updateDesktopSlider;
  window.updateMobileSlider = updateMobileSlider;
}

// Mobile Sheets
function initMobileSheets() {
  const backdrop = document.getElementById('mobileSheetBackdrop');
  const filterSheet = document.getElementById('filterSheet');
  const sortSheet = document.getElementById('sortSheet');
  
  document.getElementById('openFilterSheet')?.addEventListener('click', () => {
    backdrop.classList.remove('hidden');
    filterSheet.classList.remove('translate-y-full');
  });

  const closeFilterSheet = () => {
    backdrop.classList.add('hidden');
    filterSheet.classList.add('translate-y-full');
  };

  document.getElementById('closeFilterSheet')?.addEventListener('click', closeFilterSheet);
  window.closeFilterSheet = closeFilterSheet;

  document.getElementById('openSortSheet')?.addEventListener('click', () => {
    backdrop.classList.remove('hidden');
    sortSheet.classList.remove('translate-y-full');
  });

  const closeSortSheet = () => {
    backdrop.classList.add('hidden');
    sortSheet.classList.add('translate-y-full');
  };

  document.getElementById('closeSortSheet')?.addEventListener('click', closeSortSheet);
  window.closeSortSheet = closeSortSheet;

  backdrop.addEventListener('click', () => {
    closeFilterSheet();
    closeSortSheet();
  });
}

window.sortProducts = function(type) {
  sortSelect.value = type;
  sortSelect.dispatchEvent(new Event('change'));
  document.getElementById('mobileSheetBackdrop')?.click();
};

// Initial render
allFilteredProducts = [...products];
applySorting();
renderInitialProducts();
updateResultsCount();